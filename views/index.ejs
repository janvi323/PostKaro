<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pinterest Auth</title>
  <link rel="stylesheet" href="/stylesheets/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  
  <div class="auth-wrapper">
    <div class="form-container">

      <!-- Forms slider -->
      <div class="forms-slide" id="formsSlide">
        
        <!-- LOGIN FORM -->
        <div class="form-box login-box">
          <img src="https://i.pinimg.com/originals/d3/d1/75/d3d175e560ae133f1ed5cd4ec173751a.png" alt="pin logo" class="img1" />
      
          <p class="header">Log in to see more</p>
         <% if (error && error.length > 0) { %>
         <p class="error"><%= error %></p>
         <% } %>

          <form action="/login" method="POST">
            <input type="text" placeholder="Username" name="username" class="detail" required /><br />
            <input type="password" placeholder="Password" name="password" class="detail" required />
            <h4><a href="/forgot-password" style="text-decoration:none; color:black;">Forgot your password?</a></h4>
            <button type="submit" class="btn int">Log in</button>
          </form>

          <p class="or">OR</p>

          <!-- Google first -->
          <button class="btn ggl" type="button">
            <i class="fab fa-google"></i>
            Continue with Google
          </button>

          <!-- Facebook after Google -->
          <button class="btn fbk" type="button">
            <i class="fab fa-facebook fa-lg"></i>
            Continue with Facebook
          </button>

          <!-- Pinterest wording -->
          <p class="switch-text">
            New to Pinterest? <span onclick="showRegister()">Sign up</span>
          </p>
          
        </div>

        <!-- REGISTER FORM -->
        <div class="form-box register-box">
          <img src="https://i.pinimg.com/originals/d3/d1/75/d3d175e560ae133f1ed5cd4ec173751a.png" alt="pin logo" class="img1" />
          <p class="header">Sign up to see more</p>
           <% if(error && error.length > 0){%>
           <p class="error"><%= error[0] %> </p>
           <% } %>
          <form action="/register" method="POST">
            <input type="text" name="username" placeholder="Username" class="detail" required /><br />
            <input type="email" name="email" placeholder="Email" class="detail" required /><br />
            <input type="text" name="fullname" placeholder="Full Name" class="detail" required /><br />
            <input type="password" name="password" placeholder="Password" class="detail" required />
            <button type="submit" class="btn int">Sign up</button>
          </form>

          <p class="or">OR</p>

          <!-- Google first -->
          <button class="btn ggl" type="button">
            <i class="fab fa-google"></i>
            Continue with Google
          </button>

          <!-- Facebook after Google -->
          <button class="btn fbk" type="button">
            <i class="fab fa-facebook fa-lg"></i>
            Continue with Facebook
          </button>

          <!-- Pinterest wording -->
          <p class="switch-text">
            Already have an account? <span onclick="showLogin()">Log in</span>
          </p>
        </div>

      </div>
    </div>
  </div>

 <script>
  document.addEventListener("DOMContentLoaded", function() {
    const formType = "<%= show %>"; // 'login' or 'register'

    if (formType === "register") {
      showRegister();
    } else {
      showLogin();
    }
  });

  function showRegister() {
    document.getElementById("formsSlide").style.transform = "translateX(-50%)";
  }
  function showLogin() {
    document.getElementById("formsSlide").style.transform = "translateX(0%)";
  }
</script>

</body>
</html>
